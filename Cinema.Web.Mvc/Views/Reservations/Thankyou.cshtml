@model Cinema.Domain.Entities.Reservation
@using Cinema.Services.Constants

@{
    ViewData["Title"] = "Thankyou";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="showing-now">
    <div class="container">
        <div class="content-wrap">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="h2">Thank you</h1>
                    <div class="alert alert-success">Your tickets have been reserved.</div>
                    <p>
                        You can pick up your movie tickets with your booking number directly from the box office during business hours.

                        Please note that your tickets must be raised no later than 30 minutes before the screening begins, otherwise the computer will cancel them. Please bring your booking confirmation with you.

                        During the evenings and weekends, count on the longer wait.
                    </p>
                    
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h3 class="h5">Your details:</h3>
                    <ul>
                        <li>Reservation code: @Model.ReservationCode</li>
                        <li>Date: @Model.Screening.DateAndTime.Date</li>
                        <li>Time: @Model.Screening.DateAndTime.ToShortTimeString()</li>
                        <li>Movie: @Model.Screening.Movie.Title</li>
                        <li>Hall: @Model.Screening.Hall.Name</li>
                        <li>
                            Row / Seat:
                            <ul>
                                @foreach (var seat in Model.SeatReservations)
                                {
                                    <li>@seat.Seat.Label</li>
                                }
                            </ul>
                        </li>
                        <li>Price: @(Model.Invoices[0].Price) @Currencies.DEFAULT</li>
                        <li>VAT: @String.Format("{0:#,##0.00}", Model.Invoices[0].TaxAmount) @Currencies.DEFAULT</li>
                        <li>Total: @String.Format("{0:#,##0.00}", @Model.Invoices[0].Price + @Model.Invoices[0].TaxAmount) @Currencies.DEFAULT</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h3 class="h5">Your QR Code is below:</h3>
                    <img src="@ViewData["QRCodeData"]" class="img-responsive" width="200" height="200" />
                </div>
            </div>
        </div>
    </div>
</section>

